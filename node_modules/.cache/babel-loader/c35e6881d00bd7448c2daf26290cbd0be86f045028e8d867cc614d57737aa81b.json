{"ast":null,"code":"import _slicedToArray from\"/Users/earlhickson/Documents/GitHub/Todolist/moz-todo-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from\"react\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function usePrevious(value){var ref=useRef();useEffect(function(){ref.current=value;});return ref.current;}export default function Todo(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isEditing=_useState2[0],setEditing=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newName=_useState4[0],setNewName=_useState4[1];var editFieldRef=useRef(null);var editButtonRef=useRef(null);var wasEditing=usePrevious(isEditing);function handleChange(e){setNewName(e.target.value);}function handleSubmit(e){e.preventDefault();if(!newName.trim()){return;}props.editTask(props.id,newName);setNewName(\"\");setEditing(false);}var editingTemplate=/*#__PURE__*/_jsxs(\"form\",{className:\"stack-small\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"todo-label\",htmlFor:props.id,children:[\"New name for \",props.name]}),/*#__PURE__*/_jsx(\"input\",{id:props.id,className:\"todo-text\",type:\"text\",value:newName||props.name,onChange:handleChange,ref:editFieldRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn todo-cancel\",onClick:function onClick(){return setEditing(false);},children:[\"Cancel\",/*#__PURE__*/_jsxs(\"span\",{className:\"visually-hidden\",children:[\"renaming \",props.name]})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn btn__primary todo-edit\",children:[\"Save\",/*#__PURE__*/_jsxs(\"span\",{className:\"visually-hidden\",children:[\"new name for \",props.name]})]})]})]});var viewTemplate=/*#__PURE__*/_jsxs(\"div\",{className:\"stack-small\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"c-cb\",children:[/*#__PURE__*/_jsx(\"input\",{id:props.id,type:\"checkbox\",defaultChecked:props.completed,onChange:function onChange(){return props.toggleTaskCompleted(props.id);}}),/*#__PURE__*/_jsx(\"label\",{className:\"todo-label\",htmlFor:props.id,children:props.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn\",onClick:function onClick(){return setEditing(true);},ref:editButtonRef,children:[\"Edit \",/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:props.name})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn__danger\",onClick:function onClick(){return props.deleteTask(props.id);},children:[\"Delete \",/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:props.name})]})]})]});useEffect(function(){if(!wasEditing&&isEditing){editFieldRef.current.focus();}if(wasEditing&&!isEditing){editButtonRef.current.focus();}},[wasEditing,isEditing]);return/*#__PURE__*/_jsx(\"li\",{className:\"todo\",children:isEditing?editingTemplate:viewTemplate});}","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxs","_jsxs","jsx","_jsx","usePrevious","value","ref","current","Todo","props","_useState","_useState2","_slicedToArray","isEditing","setEditing","_useState3","_useState4","newName","setNewName","editFieldRef","editButtonRef","wasEditing","handleChange","e","target","handleSubmit","preventDefault","trim","editTask","id","editingTemplate","className","onSubmit","children","htmlFor","name","type","onChange","onClick","viewTemplate","defaultChecked","completed","toggleTaskCompleted","deleteTask","focus"],"sources":["/Users/earlhickson/Documents/GitHub/Todolist/moz-todo-react/src/components/Todo.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\n\n\nfunction usePrevious(value) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\nexport default function Todo(props) {\n  const [isEditing, setEditing] = useState(false);\n  const [newName, setNewName] = useState('');\n\n  const editFieldRef = useRef(null);\n  const editButtonRef = useRef(null);\n\n  const wasEditing = usePrevious(isEditing);\n\n  function handleChange(e) {\n    setNewName(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (!newName.trim()) {\n      return;\n    }\n    props.editTask(props.id, newName);\n    setNewName(\"\");\n    setEditing(false);\n  }\n\n  const editingTemplate = (\n    <form className=\"stack-small\" onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <label className=\"todo-label\" htmlFor={props.id}>\n          New name for {props.name}\n        </label>\n        <input\n          id={props.id}\n          className=\"todo-text\"\n          type=\"text\"\n          value={newName || props.name}\n          onChange={handleChange}\n          ref={editFieldRef}\n        />\n      </div>\n      <div className=\"btn-group\">\n\n        <button\n          type=\"button\"\n          className=\"btn todo-cancel\"\n          onClick={() => setEditing(false)}\n        >\n          Cancel\n          <span className=\"visually-hidden\">renaming {props.name}</span>\n        </button>\n        <button type=\"submit\" className=\"btn btn__primary todo-edit\">\n          Save\n          <span className=\"visually-hidden\">new name for {props.name}</span>\n        </button>\n      </div>\n    </form>\n  );\n\n  const viewTemplate = (\n    <div className=\"stack-small\">\n      <div className=\"c-cb\">\n          <input\n            id={props.id}\n            type=\"checkbox\"\n            defaultChecked={props.completed}\n            onChange={() => props.toggleTaskCompleted(props.id)}\n          />\n          <label className=\"todo-label\" htmlFor={props.id}>\n            {props.name}\n          </label>\n        </div>\n        <div className=\"btn-group\">\n        <button\n          type=\"button\"\n          className=\"btn\"\n          onClick={() => setEditing(true)}\n          ref={editButtonRef}\n          >\n            Edit <span className=\"visually-hidden\">{props.name}</span>\n          </button>\n          <button\n            type=\"button\"\n            className=\"btn btn__danger\"\n            onClick={() => props.deleteTask(props.id)}\n          >\n            Delete <span className=\"visually-hidden\">{props.name}</span>\n          </button>\n        </div>\n    </div>\n  );\n\n\n  useEffect(() => {\n    if (!wasEditing && isEditing) {\n      editFieldRef.current.focus();\n    }\n    if (wasEditing && !isEditing) {\n      editButtonRef.current.focus();\n    }\n  }, [wasEditing, isEditing]);\n\n\n  return <li className=\"todo\">{isEditing ? editingTemplate : viewTemplate}</li>;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}